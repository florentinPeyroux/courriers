package courriers;

import java.util.*;
import letter.*;

public class City {

	private String name;
	private ArrayList<Inhabitant> inhabitantListe;
	private ArrayList<Letter> postBox;

	public City(String name) {
		this.name = name;
		postBox = new ArrayList<Letter>();
		inhabitantListe = new ArrayList<Inhabitant>();
	}

	public String getName() {
		return this.name;
	}

	public void addInhabitant(Inhabitant inhabitant) {
		inhabitantListe.add(inhabitant);
	}

	public void sendLetter(Letter letter) {
		postBox.add(letter);
		System.out.println(" -> "+letter.getSender().getName()+" mails " + letter.getMessage() + " to " + letter.getReceiver().getName() + " for a cost of "+ letter.getCost()+ " euros");
		letter.debitBankAccount();

	}

	public void distributeLetter() {
		for (Letter letter : postBox) {
			System.out.println(" <- "+letter.getReceiver().getName()+" receives " + letter.getMessage() + " from "+letter.getSender().getName());
			letter.action();
		}
		postBox.clear();
	}

}
